{"version":3,"file":"static/js/947.d0234a14.chunk.js","mappings":"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","sources":["components/MovieDetails/MovieDetails.jsx","hooks/useTmdb.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useTmdb } from 'hooks/useTmdb';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState({});\n  const { getDetails } = useTmdb();\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  const fillDetails = async () => {\n    const details = await getDetails(movieId);\n    setMovie(details);\n  };\n\n  useEffect(() => {\n    fillDetails();\n  }, []);\n\n  return (\n    <>\n      {movie.title && (\n        <div>\n          <Link to={backLinkHref}>Go back</Link>\n          <img src={movie.poster} alt={movie.title} />\n          <h2>\n            {movie.title} ({movie.release_year})\n          </h2>\n          <span>User score: {movie.score}</span>\n          <h3>Overview</h3>\n          <span>{movie.overview}</span>\n          <h4>Genres</h4>\n          <span>{movie.genres}</span>\n          <NavLink to=\"cast\" state={{ from: backLinkHref }}>\n            Cast\n          </NavLink>\n          <NavLink to=\"reviews\" state={{ from: backLinkHref }}>\n            Reviews\n          </NavLink>\n        </div>\n      )}\n\n      <Outlet />\n    </>\n  );\n}\n","export const BASE_URL = 'https://api.themoviedb.org';\nexport const AUTH_KEY = process.env.REACT_APP_AUTH_KEY;\n\nexport const useTmdb = () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const getTrending = async () => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/trending/movie/day?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const trendingToday = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n      }));\n      return [...trendingToday];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getDetails = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const genresMapped = parsed.genres.map(genre => genre.name);\n      const details = {\n        title: parsed.title,\n        release_year: parsed.release_date.slice(0, 4),\n        poster: parsed.poster_path\n          ? 'https://image.tmdb.org/t/p/w342/' + parsed.poster_path\n          : 'https://placehold.co/342x513',\n        score: parsed.vote_average !== 0 ? parsed.vote_average : 'No score yet',\n        overview: parsed.overview,\n        genres: genresMapped,\n      };\n      return details;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getCast = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/credits?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const cast = parsed.cast.map(actor => ({\n        id: actor.id,\n        name: actor.name,\n        character: actor.character,\n        photo: actor.profile_path\n          ? 'https://image.tmdb.org/t/p/w185' + actor.profile_path\n          : 'https://placehold.co/185x278',\n      }));\n      return [...cast];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getReviews = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/reviews?language=en-US&page=1}`,\n        options\n      );\n      const parsed = await response.json();\n      const reviews = parsed.results.map(result => ({\n        id: result.id,\n        author: result.author,\n        content: result.content,\n        url: result.url,\n      }));\n\n      return [...reviews];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getSearch = async (query, page) => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`,\n        options\n      );\n      const parsed = await response.json();\n      const pageCount = parsed.total_pages;\n      const results = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n        release_year: result.release_date.slice(0, 4),\n      }));\n      return { results, pageCount };\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return { getTrending, getDetails, getCast, getReviews, getSearch };\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MovieDetails","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movie","setMovie","getDetails","useTmdb","movieId","useParams","backLinkHref","useLocation","state","from","fillDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","details","_context","prev","next","sent","stop","apply","arguments","useEffect","_jsxs","_Fragment","children","title","_jsx","Link","to","src","poster","alt","release_year","score","overview","genres","NavLink","Outlet","BASE_URL","options","method","headers","accept","Authorization","concat","process","getTrending","response","parsed","trendingToday","fetch","json","results","map","result","id","abrupt","_toConsumableArray","t0","console","log","_ref2","_callee2","genresMapped","_context2","genre","name","release_date","slice","poster_path","vote_average","_x","getCast","_ref3","_callee3","cast","_context3","actor","character","photo","profile_path","_x2","getReviews","_ref4","_callee4","reviews","_context4","author","content","url","_x3","getSearch","_ref5","_callee5","query","page","pageCount","_context5","total_pages","_x4","_x5","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}