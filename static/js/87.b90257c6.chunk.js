"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[87],{66:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(861),a=n(439),c=n(757),o=n.n(c),u=n(791),s=n(184);function i(e){var t=e.name,n=e.character,r=e.photo;return(0,s.jsxs)("li",{children:[(0,s.jsx)("img",{src:r,alt:t}),(0,s.jsx)("span",{children:t}),(0,s.jsxs)("span",{children:["Character: ",n]})]})}var p=n(696),l=n(689);function h(){var e=(0,u.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],h=(0,p.e4)().getCast,f=(0,l.UO)().movieId,v=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(f);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){v()}),[]),(0,s.jsx)("div",{children:(0,s.jsx)("ul",{children:n.map((function(e){return(0,s.jsx)(i,{photo:e.photo,name:e.name,character:e.character},e.id)}))})})}},696:function(e,t,n){n.d(t,{e4:function(){return s}});var r=n(433),a=n(861),c=n(757),o=n.n(c),u="https://api.themoviedb.org",s=function(){var e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYmZjN2MyNTFiZmJiNGYyYTYyOWQ3OWZjODUxYzk2MiIsInN1YiI6IjY1MTQzYTdhMDQ5OWYyMDBjNDRlNGM2ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-UwuvmS3Ac7UsOsmkCWf06jkz4EgzBhRbq6LeCEPWq0")}},t=function(){var t=(0,a.Z)(o().mark((function t(){var n,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u,"/3/trending/movie/day?language=en-US"),e);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,c=a.results.map((function(e){return{id:e.id,title:e.title}})),t.abrupt("return",(0,r.Z)(c));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=(0,a.Z)(o().mark((function t(n){var r,a,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u,"/3/movie/").concat(n,"?language=en-US"),e);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,c=a.genres.map((function(e){return e.name})),s={title:a.title,release_year:a.release_date.slice(0,4),poster:a.poster_path?"https://image.tmdb.org/t/p/w342/"+a.poster_path:"https://placehold.co/342x513",score:0!==a.vote_average?a.vote_average:"No score yet",overview:a.overview,genres:c},t.abrupt("return",s);case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)(o().mark((function t(n){var a,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u,"/3/movie/").concat(n,"/credits?language=en-US"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.cast.map((function(e){return{id:e.id,name:e.name,character:e.character,photo:e.profile_path?"https://image.tmdb.org/t/p/w185"+e.profile_path:"https://placehold.co/185x278"}})),t.abrupt("return",(0,r.Z)(s));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)(o().mark((function t(n){var a,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u,"/3/movie/").concat(n,"/reviews?language=en-US&page=1}"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.results.map((function(e){return{id:e.id,author:e.author,content:e.content,url:e.url}})),t.abrupt("return",(0,r.Z)(s));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)(o().mark((function t(n,r){var a,c,s,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(u,"/3/search/movie?query=").concat(n,"&include_adult=false&language=en-US&page=").concat(r),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.total_pages,i=c.results.map((function(e){return{id:e.id,title:e.title,release_year:e.release_date.slice(0,4)}})),t.abrupt("return",{results:i,pageCount:s});case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}();return{getTrending:t,getDetails:n,getCast:c,getReviews:s,getSearch:i}}},861:function(e,t,n){function r(e,t,n,r,a,c,o){try{var u=e[c](o),s=u.value}catch(i){return void n(i)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var o=e.apply(t,n);function u(e){r(o,a,c,u,s,"next",e)}function s(e){r(o,a,c,u,s,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=87.b90257c6.chunk.js.map