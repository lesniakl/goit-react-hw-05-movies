{"version":3,"file":"static/js/888.728d39b9.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","hooks/useTmdb.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsGenre\":\"MovieDetails_detailsGenre__1CcFj\",\"detailsImg\":\"MovieDetails_detailsImg__Bjrgy\",\"detailsContainer\":\"MovieDetails_detailsContainer__fp5oH\",\"detailsDesc\":\"MovieDetails_detailsDesc__acM1I\",\"detailsLinks\":\"MovieDetails_detailsLinks__IPM0O\",\"detailsLink\":\"MovieDetails_detailsLink__iOzZ2\",\"goBack\":\"MovieDetails_goBack__z8Pee\"};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useTmdb } from 'hooks/useTmdb';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState({});\n  const { getDetails } = useTmdb();\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkHref = location.state?.from ?? '/';\n\n  const fillDetails = async () => {\n    const details = await getDetails(movieId);\n    setMovie(details);\n  };\n\n  useEffect(() => {\n    fillDetails();\n  }, []);\n\n  return (\n    <>\n      <Link to={backLinkHref} className={css.goBack}>\n        Go back\n      </Link>\n      {movie.title && (\n        <div className={css.detailsContainer}>\n          <img\n            src={movie.poster}\n            alt={movie.title}\n            className={css.detailsImg}\n          />\n          <div className={css.detailsDesc}>\n            <h2>\n              {movie.title} ({movie.release_year})\n            </h2>\n            <span>User score: {movie.score}</span>\n            <h3>Overview</h3>\n            <span>{movie.overview}</span>\n            <h4>Genres</h4>\n            <div>\n              {movie.genres.map((genre, index) => (\n                <span key={index} className={css.detailsGenre}>\n                  {genre}\n                </span>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n      <div className={css.detailsLinks}>\n        <NavLink\n          to=\"cast\"\n          state={{ from: backLinkHref }}\n          className={css.detailsLink}\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          to=\"reviews\"\n          state={{ from: backLinkHref }}\n          className={css.detailsLink}\n        >\n          Reviews\n        </NavLink>\n      </div>\n      <Outlet />\n    </>\n  );\n}\n","export const BASE_URL = 'https://api.themoviedb.org';\nexport const AUTH_KEY = process.env.REACT_APP_AUTH_KEY;\n\nexport const useTmdb = () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const getTrending = async () => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/trending/movie/day?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const trendingToday = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n      }));\n      return [...trendingToday];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getDetails = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const genresMapped = parsed.genres.map(genre => genre.name);\n      const details = {\n        title: parsed.title,\n        release_year: parsed.release_date.slice(0, 4),\n        poster: parsed.poster_path\n          ? 'https://image.tmdb.org/t/p/w342/' + parsed.poster_path\n          : 'https://placehold.co/342x513',\n        score: parsed.vote_average !== 0 ? parsed.vote_average : 'No score yet',\n        overview: parsed.overview,\n        genres: genresMapped,\n      };\n      return details;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getCast = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/credits?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const cast = parsed.cast.map(actor => ({\n        id: actor.id,\n        name: actor.name,\n        character: actor.character,\n        photo: actor.profile_path\n          ? 'https://image.tmdb.org/t/p/w185' + actor.profile_path\n          : 'https://placehold.co/185x278',\n      }));\n      return [...cast];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getReviews = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/reviews?language=en-US&page=1}`,\n        options\n      );\n      const parsed = await response.json();\n      const reviews = parsed.results.map(result => ({\n        id: result.id,\n        author: result.author,\n        content: result.content,\n        url: result.url,\n      }));\n\n      return [...reviews];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getSearch = async (query, page) => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`,\n        options\n      );\n      const parsed = await response.json();\n      const pageCount = parsed.total_pages;\n      const results = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n        release_year: result.release_date.slice(0, 4),\n      }));\n      return { results, pageCount };\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return { getTrending, getDetails, getCast, getReviews, getSearch };\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MovieDetails","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movie","setMovie","getDetails","useTmdb","movieId","useParams","backLinkHref","useLocation","state","from","fillDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","details","_context","prev","next","sent","stop","apply","arguments","useEffect","_jsxs","_Fragment","children","_jsx","Link","to","className","css","title","src","poster","alt","release_year","score","overview","genres","map","genre","index","NavLink","Outlet","BASE_URL","options","method","headers","accept","Authorization","concat","process","getTrending","response","parsed","trendingToday","fetch","json","results","result","id","abrupt","_toConsumableArray","t0","console","log","_ref2","_callee2","genresMapped","_context2","name","release_date","slice","poster_path","vote_average","_x","getCast","_ref3","_callee3","cast","_context3","actor","character","photo","profile_path","_x2","getReviews","_ref4","_callee4","reviews","_context4","author","content","url","_x3","getSearch","_ref5","_callee5","query","page","pageCount","_context5","total_pages","_x4","_x5","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}