"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[288],{288:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(861),a=n(439),c=n(757),u=n.n(c),o=n(696),s=n(791),i=n(689),p=n(184);function l(e){var t=e.author,n=e.content,r=e.url;return(0,p.jsxs)("li",{children:[(0,p.jsxs)("span",{children:["Author: ",t]}),(0,p.jsx)("span",{children:n}),(0,p.jsx)("a",{href:r,children:"Read full article"})]})}function f(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),n=t[0],c=t[1],f=(0,o.e4)().getReviews,h=(0,i.UO)().movieId,v=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(h);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){v()}),[]),(0,p.jsx)("ul",{children:n.map((function(e){return(0,p.jsx)(l,{author:e.author,content:e.content,url:e.url},e.id)}))})}},696:function(e,t,n){n.d(t,{e4:function(){return s}});var r=n(433),a=n(861),c=n(757),u=n.n(c),o="https://api.themoviedb.org",s=function(){var e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYmZjN2MyNTFiZmJiNGYyYTYyOWQ3OWZjODUxYzk2MiIsInN1YiI6IjY1MTQzYTdhMDQ5OWYyMDBjNDRlNGM2ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-UwuvmS3Ac7UsOsmkCWf06jkz4EgzBhRbq6LeCEPWq0")}},t=function(){var t=(0,a.Z)(u().mark((function t(){var n,a,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/trending/movie/day?language=en-US"),e);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,c=a.results.map((function(e){return{id:e.id,title:e.title}})),t.abrupt("return",(0,r.Z)(c));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=(0,a.Z)(u().mark((function t(n){var r,a,c,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"?language=en-US"),e);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,c=a.genres.map((function(e){return e.name})),s={title:a.title,release_year:a.release_date.slice(0,4),poster:a.poster_path?"https://image.tmdb.org/t/p/w342/"+a.poster_path:"https://placehold.co/342x513",score:0!==a.vote_average?a.vote_average:"No score yet",overview:a.overview,genres:c},t.abrupt("return",s);case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)(u().mark((function t(n){var a,c,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"/credits?language=en-US"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.cast.map((function(e){return{id:e.id,name:e.name,character:e.character,photo:e.profile_path?"https://image.tmdb.org/t/p/w185"+e.profile_path:"https://placehold.co/185x278"}})),t.abrupt("return",(0,r.Z)(s));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)(u().mark((function t(n){var a,c,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"/reviews?language=en-US&page=1}"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.results.map((function(e){return{id:e.id,author:e.author,content:e.content,url:e.url}})),t.abrupt("return",(0,r.Z)(s));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)(u().mark((function t(n,r){var a,c,s,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/search/movie?query=").concat(n,"&include_adult=false&language=en-US&page=").concat(r),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,s=c.total_pages,i=c.results.map((function(e){return{id:e.id,title:e.title,release_year:e.release_date.slice(0,4)}})),t.abrupt("return",{results:i,pageCount:s});case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}();return{getTrending:t,getDetails:n,getCast:c,getReviews:s,getSearch:i}}},861:function(e,t,n){function r(e,t,n,r,a,c,u){try{var o=e[c](u),s=o.value}catch(i){return void n(i)}o.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var u=e.apply(t,n);function o(e){r(u,a,c,o,s,"next",e)}function s(e){r(u,a,c,o,s,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=288.cbf96ada.chunk.js.map