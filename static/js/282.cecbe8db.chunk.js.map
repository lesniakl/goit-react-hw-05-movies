{"version":3,"file":"static/js/282.cecbe8db.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/ReviewsItem.jsx","components/Reviews/Reviews.jsx","hooks/useTmdb.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewItem\":\"Reviews_reviewItem__ax7Fo\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport css from './Reviews.module.css';\n\nexport default function ReviewsItem({ author, content, url }) {\n  return (\n    <li className={css.reviewItem}>\n      <span>\n        <b>Author:</b> {author}\n      </span>\n      <span>{content}</span>\n      <a href={url}>Read full article</a>\n    </li>\n  );\n}\n\nReviewsItem.propTypes = {\n  author: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\n","import { useTmdb } from 'hooks/useTmdb';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ReviewsItem from './ReviewsItem';\n\nexport default function Reviews() {\n  const [reviews, setReviews] = useState([]);\n  const { getReviews } = useTmdb();\n  const { movieId } = useParams();\n\n  const fillReviews = async () => {\n    const reviews = await getReviews(movieId);\n    setReviews(reviews);\n  };\n\n  useEffect(() => {\n    fillReviews();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <ul>\n      {reviews.length < 1 && <span>There're no reviews for this movie.</span>}\n      {reviews.map(review => (\n        <ReviewsItem\n          key={review.id}\n          author={review.author}\n          content={review.content}\n          url={review.url}\n        />\n      ))}\n    </ul>\n  );\n}\n","export const BASE_URL = 'https://api.themoviedb.org';\nexport const AUTH_KEY = process.env.REACT_APP_AUTH_KEY;\n\nexport const useTmdb = () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const getTrending = async () => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/trending/movie/day?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const trendingToday = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n      }));\n      return [...trendingToday];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getDetails = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const genresMapped = parsed.genres.map(genre => genre.name);\n      const details = {\n        title: parsed.title,\n        release_year: parsed.release_date.slice(0, 4),\n        poster: parsed.poster_path\n          ? 'https://image.tmdb.org/t/p/w342/' + parsed.poster_path\n          : 'https://placehold.co/342x513',\n        score: parsed.vote_average !== 0 ? parsed.vote_average : 'No score yet',\n        overview: parsed.overview,\n        genres: genresMapped,\n      };\n      return details;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getCast = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/credits?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const cast = parsed.cast.map(actor => ({\n        id: actor.id,\n        name: actor.name,\n        character: actor.character,\n        photo: actor.profile_path\n          ? 'https://image.tmdb.org/t/p/w185' + actor.profile_path\n          : 'https://placehold.co/185x278',\n      }));\n      return [...cast];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getReviews = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/reviews?language=en-US&page=1}`,\n        options\n      );\n      const parsed = await response.json();\n      const reviews = parsed.results.map(result => ({\n        id: result.id,\n        author: result.author,\n        content: result.content,\n        url: result.url,\n      }));\n\n      return [...reviews];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getSearch = async (query, page) => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`,\n        options\n      );\n      const parsed = await response.json();\n      const pageCount = parsed.total_pages;\n      const results = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n        release_year: result.release_date.slice(0, 4),\n      }));\n      return { results, pageCount };\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return { getTrending, getDetails, getCast, getReviews, getSearch };\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["ReviewsItem","_ref","author","content","url","_jsxs","className","css","children","_jsx","href","Reviews","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","getReviews","useTmdb","movieId","useParams","fillReviews","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","sent","stop","apply","arguments","useEffect","length","map","review","id","BASE_URL","options","method","headers","accept","Authorization","concat","process","getTrending","response","parsed","trendingToday","fetch","json","results","result","title","abrupt","_toConsumableArray","t0","console","log","getDetails","_ref2","_callee2","genresMapped","details","_context2","genres","genre","name","release_year","release_date","slice","poster","poster_path","score","vote_average","overview","_x","getCast","_ref3","_callee3","cast","_context3","actor","character","photo","profile_path","_x2","_ref4","_callee4","_context4","_x3","getSearch","_ref5","_callee5","query","page","pageCount","_context5","total_pages","_x4","_x5","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}