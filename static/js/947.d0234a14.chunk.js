"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[947],{947:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(861),a=n(439),c=n(757),s=n.n(c),o=n(696),u=n(791),i=n(689),l=n(87),p=n(184);function h(){var e,t,n=(0,u.useState)({}),c=(0,a.Z)(n,2),h=c[0],f=c[1],v=(0,o.e4)().getDetails,d=(0,i.UO)().movieId,m=null!==(e=null===(t=(0,i.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",g=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(d);case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){g()}),[]),(0,p.jsxs)(p.Fragment,{children:[h.title&&(0,p.jsxs)("div",{children:[(0,p.jsx)(l.rU,{to:m,children:"Go back"}),(0,p.jsx)("img",{src:h.poster,alt:h.title}),(0,p.jsxs)("h2",{children:[h.title," (",h.release_year,")"]}),(0,p.jsxs)("span",{children:["User score: ",h.score]}),(0,p.jsx)("h3",{children:"Overview"}),(0,p.jsx)("span",{children:h.overview}),(0,p.jsx)("h4",{children:"Genres"}),(0,p.jsx)("span",{children:h.genres}),(0,p.jsx)(l.OL,{to:"cast",state:{from:m},children:"Cast"}),(0,p.jsx)(l.OL,{to:"reviews",state:{from:m},children:"Reviews"})]}),(0,p.jsx)(i.j3,{})]})}},696:function(e,t,n){n.d(t,{e4:function(){return u}});var r=n(433),a=n(861),c=n(757),s=n.n(c),o="https://api.themoviedb.org",u=function(){var e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmYmZjN2MyNTFiZmJiNGYyYTYyOWQ3OWZjODUxYzk2MiIsInN1YiI6IjY1MTQzYTdhMDQ5OWYyMDBjNDRlNGM2ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-UwuvmS3Ac7UsOsmkCWf06jkz4EgzBhRbq6LeCEPWq0")}},t=function(){var t=(0,a.Z)(s().mark((function t(){var n,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/trending/movie/day?language=en-US"),e);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,c=a.results.map((function(e){return{id:e.id,title:e.title}})),t.abrupt("return",(0,r.Z)(c));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=(0,a.Z)(s().mark((function t(n){var r,a,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"?language=en-US"),e);case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,c=a.genres.map((function(e){return e.name})),u={title:a.title,release_year:a.release_date.slice(0,4),poster:a.poster_path?"https://image.tmdb.org/t/p/w342/"+a.poster_path:"https://placehold.co/342x513",score:0!==a.vote_average?a.vote_average:"No score yet",overview:a.overview,genres:c},t.abrupt("return",u);case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)(s().mark((function t(n){var a,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"/credits?language=en-US"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,u=c.cast.map((function(e){return{id:e.id,name:e.name,character:e.character,photo:e.profile_path?"https://image.tmdb.org/t/p/w185"+e.profile_path:"https://placehold.co/185x278"}})),t.abrupt("return",(0,r.Z)(u));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)(s().mark((function t(n){var a,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/movie/").concat(n,"/reviews?language=en-US&page=1}"),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,u=c.results.map((function(e){return{id:e.id,author:e.author,content:e.content,url:e.url}})),t.abrupt("return",(0,r.Z)(u));case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,a.Z)(s().mark((function t(n,r){var a,c,u,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o,"/3/search/movie?query=").concat(n,"&include_adult=false&language=en-US&page=").concat(r),e);case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,u=c.total_pages,i=c.results.map((function(e){return{id:e.id,title:e.title,release_year:e.release_date.slice(0,4)}})),t.abrupt("return",{results:i,pageCount:u});case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}();return{getTrending:t,getDetails:n,getCast:c,getReviews:u,getSearch:i}}},861:function(e,t,n){function r(e,t,n,r,a,c,s){try{var o=e[c](s),u=o.value}catch(i){return void n(i)}o.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var s=e.apply(t,n);function o(e){r(s,a,c,o,u,"next",e)}function u(e){r(s,a,c,o,u,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=947.d0234a14.chunk.js.map