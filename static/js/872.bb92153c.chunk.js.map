{"version":3,"file":"static/js/872.bb92153c.chunk.js","mappings":"oOACA,EAA2B,uBAA3B,EAA6D,uB,SCG9C,SAASA,EAAQC,GAA8B,IAA3BC,EAAID,EAAJC,KAAMC,EAASF,EAATE,UAAWC,EAAKH,EAALG,MAClD,OACEC,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAKC,IAAKN,EAAOO,IAAKT,KACtBG,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,QAAAD,UACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAIN,OAENG,EAAAA,EAAAA,MAAA,QAAAG,SAAA,CAAM,cAAYL,UAI1B,C,sBCXe,SAASS,IACtB,IAAAC,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACZI,GAAYC,EAAAA,EAAAA,MAAZD,QACAE,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAQ,eAAAtB,GAAAuB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAT,EAAA,OAAAQ,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACIV,EAAQE,GAAS,KAAD,EAA7BJ,EAAIU,EAAAG,KACVZ,EAAQD,GAAM,wBAAAU,EAAAI,OAAA,GAAAL,EAAA,KACf,kBAHa,OAAAzB,EAAA+B,MAAA,KAAAC,UAAA,KAUd,OALAC,EAAAA,EAAAA,YAAU,WACRX,GAEF,GAAG,KAGDd,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,MAAAD,SACGS,EAAKkB,KAAI,SAAAC,GAAK,OACb3B,EAAAA,EAAAA,KAACT,EAAQ,CAEPI,MAAOgC,EAAMhC,MACbF,KAAMkC,EAAMlC,KACZC,UAAWiC,EAAMjC,WAHZiC,EAAMC,GAIX,OAKZ,C,+FClCaC,EAAW,6BAGXlB,EAAU,WACrB,IAAMmB,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cAAc,UAADC,OAPKC,yNAWhBC,EAAW,eAAA7C,GAAAuB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAqB,EAAAC,EAAAC,EAAA,OAAAxB,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEOqB,MAAM,GAADN,OACvBN,EAAQ,wCACXC,GACA,KAAD,EAHa,OAARQ,EAAQpB,EAAAG,KAAAH,EAAAE,KAAA,EAIOkB,EAASI,OAAO,KAAD,EAIhC,OAJEH,EAAMrB,EAAAG,KACNmB,EAAgBD,EAAOI,QAAQjB,KAAI,SAAAkB,GAAM,MAAK,CAClDhB,GAAIgB,EAAOhB,GACXiB,MAAOD,EAAOC,MACf,IAAE3B,EAAA4B,OAAA,UAAAC,EAAAA,EAAAA,GACQP,IAAa,QAAAtB,EAAAC,KAAA,GAAAD,EAAA8B,GAAA9B,EAAA,SAExB+B,QAAQC,IAAGhC,EAAA8B,IAAM,yBAAA9B,EAAAI,OAAA,GAAAL,EAAA,mBAEpB,kBAfgB,OAAAzB,EAAA+B,MAAA,KAAAC,UAAA,KAiBX2B,EAAU,eAAAC,GAAArC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAqC,EAAMzB,GAAE,IAAAU,EAAAC,EAAAe,EAAAC,EAAA,OAAAvC,IAAAA,MAAA,SAAAwC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAArC,KAAA,EAAAqC,EAAApC,KAAA,EAEAqB,MAAM,GAADN,OACvBN,EAAQ,aAAAM,OAAYP,EAAE,mBACzBE,GACA,KAAD,EAHa,OAARQ,EAAQkB,EAAAnC,KAAAmC,EAAApC,KAAA,EAIOkB,EAASI,OAAO,KAAD,EAWlC,OAXIH,EAAMiB,EAAAnC,KACNiC,EAAef,EAAOkB,OAAO/B,KAAI,SAAAgC,GAAK,OAAIA,EAAMjE,IAAI,IACpD8D,EAAU,CACdV,MAAON,EAAOM,MACdc,aAAcpB,EAAOqB,aAAaC,MAAM,EAAG,GAC3CC,OAAQvB,EAAOwB,YACX,mCAAqCxB,EAAOwB,YAC5C,+BACJC,MAA+B,IAAxBzB,EAAO0B,aAAqB1B,EAAO0B,aAAe,eACzDC,SAAU3B,EAAO2B,SACjBT,OAAQH,GACTE,EAAAV,OAAA,SACMS,GAAO,QAAAC,EAAArC,KAAA,GAAAqC,EAAAR,GAAAQ,EAAA,SAEdP,QAAQC,IAAGM,EAAAR,IAAM,yBAAAQ,EAAAlC,OAAA,GAAA+B,EAAA,mBAEpB,gBAtBec,GAAA,OAAAf,EAAA7B,MAAA,KAAAC,UAAA,KAwBVd,EAAO,eAAA0D,GAAArD,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAqD,EAAMzC,GAAE,IAAAU,EAAAC,EAAA/B,EAAA,OAAAQ,IAAAA,MAAA,SAAAsD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAAlD,MAAA,cAAAkD,EAAAnD,KAAA,EAAAmD,EAAAlD,KAAA,EAEGqB,MAAM,GAADN,OACvBN,EAAQ,aAAAM,OAAYP,EAAE,2BACzBE,GACA,KAAD,EAHa,OAARQ,EAAQgC,EAAAjD,KAAAiD,EAAAlD,KAAA,EAIOkB,EAASI,OAAO,KAAD,EAQhC,OAREH,EAAM+B,EAAAjD,KACNb,EAAO+B,EAAO/B,KAAKkB,KAAI,SAAAC,GAAK,MAAK,CACrCC,GAAID,EAAMC,GACVnC,KAAMkC,EAAMlC,KACZC,UAAWiC,EAAMjC,UACjBC,MAAOgC,EAAM4C,aACT,kCAAoC5C,EAAM4C,aAC1C,+BACL,IAAED,EAAAxB,OAAA,UAAAC,EAAAA,EAAAA,GACQvC,IAAI,QAAA8D,EAAAnD,KAAA,GAAAmD,EAAAtB,GAAAsB,EAAA,SAEfrB,QAAQC,IAAGoB,EAAAtB,IAAM,yBAAAsB,EAAAhD,OAAA,GAAA+C,EAAA,mBAEpB,gBAnBYG,GAAA,OAAAJ,EAAA7C,MAAA,KAAAC,UAAA,KAqBPiD,EAAU,eAAAC,GAAA3D,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2D,EAAM/C,GAAE,IAAAU,EAAAC,EAAAqC,EAAA,OAAA5D,IAAAA,MAAA,SAAA6D,GAAA,cAAAA,EAAA1D,KAAA0D,EAAAzD,MAAA,cAAAyD,EAAA1D,KAAA,EAAA0D,EAAAzD,KAAA,EAEAqB,MAAM,GAADN,OACvBN,EAAQ,aAAAM,OAAYP,EAAE,mCACzBE,GACA,KAAD,EAHa,OAARQ,EAAQuC,EAAAxD,KAAAwD,EAAAzD,KAAA,EAIOkB,EAASI,OAAO,KAAD,EAMhC,OANEH,EAAMsC,EAAAxD,KACNuD,EAAUrC,EAAOI,QAAQjB,KAAI,SAAAkB,GAAM,MAAK,CAC5ChB,GAAIgB,EAAOhB,GACXkD,OAAQlC,EAAOkC,OACfC,QAASnC,EAAOmC,QAChBC,IAAKpC,EAAOoC,IACb,IAAEH,EAAA/B,OAAA,UAAAC,EAAAA,EAAAA,GAEQ6B,IAAO,QAAAC,EAAA1D,KAAA,GAAA0D,EAAA7B,GAAA6B,EAAA,SAElB5B,QAAQC,IAAG2B,EAAA7B,IAAM,yBAAA6B,EAAAvD,OAAA,GAAAqD,EAAA,mBAEpB,gBAlBeM,GAAA,OAAAP,EAAAnD,MAAA,KAAAC,UAAA,KAoBV0D,EAAS,eAAAC,GAAApE,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAoE,EAAOC,EAAOC,GAAI,IAAAhD,EAAAC,EAAAgD,EAAA5C,EAAA,OAAA3B,IAAAA,MAAA,SAAAwE,GAAA,cAAAA,EAAArE,KAAAqE,EAAApE,MAAA,cAAAoE,EAAArE,KAAA,EAAAqE,EAAApE,KAAA,EAETqB,MAAM,GAADN,OACvBN,EAAQ,0BAAAM,OAAyBkD,EAAK,6CAAAlD,OAA4CmD,GACrFxD,GACA,KAAD,EAHa,OAARQ,EAAQkD,EAAAnE,KAAAmE,EAAApE,KAAA,EAIOkB,EAASI,OAAO,KAAD,EAMhC,OANEH,EAAMiD,EAAAnE,KACNkE,EAAYhD,EAAOkD,YACnB9C,EAAUJ,EAAOI,QAAQjB,KAAI,SAAAkB,GAAM,MAAK,CAC5ChB,GAAIgB,EAAOhB,GACXiB,MAAOD,EAAOC,MACdc,aAAcf,EAAOgB,aAAaC,MAAM,EAAG,GAC5C,IAAE2B,EAAA1C,OAAA,SACI,CAAEH,QAAAA,EAAS4C,UAAAA,IAAW,QAAAC,EAAArE,KAAA,GAAAqE,EAAAxC,GAAAwC,EAAA,SAE7BvC,QAAQC,IAAGsC,EAAAxC,IAAM,yBAAAwC,EAAAlE,OAAA,GAAA8D,EAAA,mBAEpB,gBAjBcM,EAAAC,GAAA,OAAAR,EAAA5D,MAAA,KAAAC,UAAA,KAmBf,MAAO,CAAEa,YAAAA,EAAac,WAAAA,EAAYzC,QAAAA,EAAS+D,WAAAA,EAAYS,UAAAA,EACzD,C,sBClHA,SAASU,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAOC,GAEP,YADAP,EAAOO,EAET,CAEIF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,EAEvC,CAEe,SAASlF,EAAkB2F,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOrF,UACX,OAAO,IAAIgF,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMa,EAAGnF,MAAMoF,EAAME,GAEzB,SAASb,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CAEA,SAASJ,EAAOa,GACdlB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASa,EACnE,CAEAd,OAAMe,EACR,GACF,CACF,C","sources":["webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","components/Cast/CastItem.jsx","components/Cast/Cast.jsx","hooks/useTmdb.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"castItem\":\"Cast_castItem__-Jcfe\",\"castDesc\":\"Cast_castDesc__MkIY-\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Cast.module.css';\n\nexport default function CastItem({ name, character, photo }) {\n  return (\n    <li className={css.castItem}>\n      <img src={photo} alt={name} />\n      <div className={css.castDesc}>\n        <span>\n          <b>{name}</b>\n        </span>\n        <span>Character: {character}</span>\n      </div>\n    </li>\n  );\n}\n\nCastItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  character: PropTypes.string.isRequired,\n  photo: PropTypes.string.isRequired,\n};\n","import CastItem from 'components/Cast/CastItem';\nimport { useTmdb } from 'hooks/useTmdb';\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nexport default function Cast() {\n  const [cast, setCast] = useState([]);\n  const { getCast } = useTmdb();\n  const { movieId } = useParams();\n\n  const fillCast = async () => {\n    const cast = await getCast(movieId);\n    setCast(cast);\n  };\n\n  useEffect(() => {\n    fillCast();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div>\n      <ul>\n        {cast.map(actor => (\n          <CastItem\n            key={actor.id}\n            photo={actor.photo}\n            name={actor.name}\n            character={actor.character}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n","export const BASE_URL = 'https://api.themoviedb.org';\nexport const AUTH_KEY = process.env.REACT_APP_AUTH_KEY;\n\nexport const useTmdb = () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${AUTH_KEY}`,\n    },\n  };\n\n  const getTrending = async () => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/trending/movie/day?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const trendingToday = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n      }));\n      return [...trendingToday];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getDetails = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const genresMapped = parsed.genres.map(genre => genre.name);\n      const details = {\n        title: parsed.title,\n        release_year: parsed.release_date.slice(0, 4),\n        poster: parsed.poster_path\n          ? 'https://image.tmdb.org/t/p/w342/' + parsed.poster_path\n          : 'https://placehold.co/342x513',\n        score: parsed.vote_average !== 0 ? parsed.vote_average : 'No score yet',\n        overview: parsed.overview,\n        genres: genresMapped,\n      };\n      return details;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getCast = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/credits?language=en-US`,\n        options\n      );\n      const parsed = await response.json();\n      const cast = parsed.cast.map(actor => ({\n        id: actor.id,\n        name: actor.name,\n        character: actor.character,\n        photo: actor.profile_path\n          ? 'https://image.tmdb.org/t/p/w185' + actor.profile_path\n          : 'https://placehold.co/185x278',\n      }));\n      return [...cast];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getReviews = async id => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/movie/${id}/reviews?language=en-US&page=1}`,\n        options\n      );\n      const parsed = await response.json();\n      const reviews = parsed.results.map(result => ({\n        id: result.id,\n        author: result.author,\n        content: result.content,\n        url: result.url,\n      }));\n\n      return [...reviews];\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getSearch = async (query, page) => {\n    try {\n      const response = await fetch(\n        `${BASE_URL}/3/search/movie?query=${query}&include_adult=false&language=en-US&page=${page}`,\n        options\n      );\n      const parsed = await response.json();\n      const pageCount = parsed.total_pages;\n      const results = parsed.results.map(result => ({\n        id: result.id,\n        title: result.title,\n        release_year: result.release_date.slice(0, 4),\n      }));\n      return { results, pageCount };\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return { getTrending, getDetails, getCast, getReviews, getSearch };\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["CastItem","_ref","name","character","photo","_jsxs","className","css","children","_jsx","src","alt","Cast","_useState","useState","_useState2","_slicedToArray","cast","setCast","getCast","useTmdb","movieId","useParams","fillCast","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","sent","stop","apply","arguments","useEffect","map","actor","id","BASE_URL","options","method","headers","accept","Authorization","concat","process","getTrending","response","parsed","trendingToday","fetch","json","results","result","title","abrupt","_toConsumableArray","t0","console","log","getDetails","_ref2","_callee2","genresMapped","details","_context2","genres","genre","release_year","release_date","slice","poster","poster_path","score","vote_average","overview","_x","_ref3","_callee3","_context3","profile_path","_x2","getReviews","_ref4","_callee4","reviews","_context4","author","content","url","_x3","getSearch","_ref5","_callee5","query","page","pageCount","_context5","total_pages","_x4","_x5","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}